version: '2.1'

volumes:

  cloud9_workspace:
  cloud9_home:
  volumerize_cache:

services:

  cloud9:
    build: ./cloud9
    ports:
      - '80:80'
    volumes:
      - 'cloud9_workspace:/workspace'
      - 'cloud9_home:/root'
    privileged: true

  volumerize:
    image: klutchell/volumerize:armhf
    volumes:
      - 'volumerize_cache:/volumerize-cache'
      - 'cloud9_workspace:/volumes/cloud9_workspace:ro'
      - 'cloud9_home:/volumes/cloud9_home:ro'
    environment:
      - 'VOLUMERIZE_SOURCE=/volumes'
